<!doctype html>
<html>
  <head>
    <title>projects</title>
    <link href='https://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>
    <link rel='stylesheet' href='../static/css/bootstrap.min.css'>
  
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>
    <script src='../static/js/mustache.js'></script>

    <script src='projects.js'></script>

    <script>
      var template = 
          "<div id='history' class='span14'>"
            + "{{#history}}"
            + "<div class='row year' id='{{year}}'>"
              + "<h2>{{year}}</h2>"
              + "{{#projects}}"
              + "<div class='project span4{{#tags}} {{.}}{{/tags}}'>"
                + "{{#photos}}<img src={{thumb}} />{{/photos}}"
                + "<p class='title'>{{name}}</p>"
                + "<p>{{blurb}}</p>"
                + "<p class='expound'>{{expound}}</p>"
              + "</div>"
              + "{{/projects}}"
            + "</div>"
            + "{{/history}}"
          +"</div><!--/content-->"

      $(function() {

        var html = Mustache.to_html(template, projects);
        $('#sidebar').parent().append(html);

      });

    </script>

    <style>
      .project {
        height: 250px;
        margin: 0 0 5px 0;
      }

      .expound {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class='container'>
      <div class='row'>
        <div class='span16'>
          <div class='row'>

            <div id='sidebar' class='span2'>
              <p>home</p>
              <p>about</p>
              <p>projects</p>
            </div> <!--/sidebar-->

            <!--history appended here-->

          </div>
        </div>
      </div><!--/row-->
    </div><!--/container-->

  </body>
</html>
